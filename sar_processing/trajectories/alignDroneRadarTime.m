function [tx_enu, rx_enu, yaw] = alignDroneRadarTime(POSE, targets, tau_ax, radar_parameters)
%ALIGNDRONERADARTIME align drone and radar time, return ENU trajectory
%   return ENU trajectory of TX and RX, ready for bistatic case
[uniqueEpoch,uniqIdx] = unique(POSE.epoch);

rx_enu = vertcat(...
    interp1(uniqueEpoch,POSE.RX(uniqIdx,1), tau_ax, "linear"), ...
    interp1(uniqueEpoch,POSE.RX(uniqIdx,2), tau_ax, "linear"), ...
    interp1(uniqueEpoch,POSE.RX(uniqIdx,3), tau_ax, "linear") ...
    ).';



tx_enu = vertcat(...
    interp1(uniqueEpoch,POSE.TX(uniqIdx,1), tau_ax, "linear"), ...
    interp1(uniqueEpoch,POSE.TX(uniqIdx,2), tau_ax, "linear"), ...
    interp1(uniqueEpoch,POSE.TX(uniqIdx,3), tau_ax, "linear") ...
    ).';
yaw = interp1(uniqueEpoch,POSE.yaw(uniqIdx), tau_ax, "linear");
end

